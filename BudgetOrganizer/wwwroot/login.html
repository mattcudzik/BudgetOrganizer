
<html>
<head>
    <link rel="stylesheet" type="text/css" href="login.css" /> 
    <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;400&display=swap" rel="stylesheet">
<script>
    window.addEventListener("load", () => {
        function sendData() {
            const FD = new FormData(form);
            var bodyPost = '{"userName": "' + FD.get("username") + '","password": "' + FD.get("password") + '"}';
            console.log(bodyPost);
            const request = new Request("https://localhost:7057/api/Accounts/Login", {
                method: "POST",
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: bodyPost
            });

            fetch(request)
                .then((response) => response.text())
                .then((json) => {
                    console.log(json.replace(/["]/g, ''));
                    //document.getElementById("space").innerHTML = json.replace(/["]/g, '');
                    localStorage.setItem("jwt", json.replace(/["]/g, ''));
                });
        }

        // Get the form element
        const form = document.getElementById("login-form");

        // Add 'submit' event handler
        form.addEventListener("submit", (event) => {
            event.preventDefault();

            sendData();
        });
    });


</script>


</head>
<body>
<div id="login-form-wrap">
    <h2>LOGIN</h2>
    <form id="login-form" onsubmit="return false;" method="post">
        <p>
            <input type="text" id="username" name="username" placeholder="Username" required><i class="validation"><span></span></i>
        </p>
        <p>
            <input type="password" id="password" name="password" placeholder="Password" required><i class="validation"><span></span></i>
        </p>
        <p>
            <input type="submit" id="login" value="Login">
        </p>
    </form>
    
</div>

</body>
</html>